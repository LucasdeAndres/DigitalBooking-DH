{"ast":null,"code":"/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function (define) {\n  'use strict';\n\n  define(function () {\n    return function flow(Promise) {\n      var resolve = Promise.resolve;\n      var reject = Promise.reject;\n      var origCatch = Promise.prototype['catch'];\n\n      /**\n       * Handle the ultimate fulfillment value or rejection reason, and assume\n       * responsibility for all errors.  If an error propagates out of result\n       * or handleFatalError, it will be rethrown to the host, resulting in a\n       * loud stack track on most platforms and a crash on some.\n       * @param {function?} onResult\n       * @param {function?} onError\n       * @returns {undefined}\n       */\n      Promise.prototype.done = function (onResult, onError) {\n        this._handler.visit(this._handler.receiver, onResult, onError);\n      };\n\n      /**\n       * Add Error-type and predicate matching to catch.  Examples:\n       * promise.catch(TypeError, handleTypeError)\n       *   .catch(predicate, handleMatchedErrors)\n       *   .catch(handleRemainingErrors)\n       * @param onRejected\n       * @returns {*}\n       */\n      Promise.prototype['catch'] = Promise.prototype.otherwise = function (onRejected) {\n        if (arguments.length < 2) {\n          return origCatch.call(this, onRejected);\n        }\n        if (typeof onRejected !== 'function') {\n          return this.ensure(rejectInvalidPredicate);\n        }\n        return origCatch.call(this, createCatchFilter(arguments[1], onRejected));\n      };\n\n      /**\n       * Wraps the provided catch handler, so that it will only be called\n       * if the predicate evaluates truthy\n       * @param {?function} handler\n       * @param {function} predicate\n       * @returns {function} conditional catch handler\n       */\n      function createCatchFilter(handler, predicate) {\n        return function (e) {\n          return evaluatePredicate(e, predicate) ? handler.call(this, e) : reject(e);\n        };\n      }\n\n      /**\n       * Ensures that onFulfilledOrRejected will be called regardless of whether\n       * this promise is fulfilled or rejected.  onFulfilledOrRejected WILL NOT\n       * receive the promises' value or reason.  Any returned value will be disregarded.\n       * onFulfilledOrRejected may throw or return a rejected promise to signal\n       * an additional error.\n       * @param {function} handler handler to be called regardless of\n       *  fulfillment or rejection\n       * @returns {Promise}\n       */\n      Promise.prototype['finally'] = Promise.prototype.ensure = function (handler) {\n        if (typeof handler !== 'function') {\n          return this;\n        }\n        return this.then(function (x) {\n          return runSideEffect(handler, this, identity, x);\n        }, function (e) {\n          return runSideEffect(handler, this, reject, e);\n        });\n      };\n      function runSideEffect(handler, thisArg, propagate, value) {\n        var result = handler.call(thisArg);\n        return maybeThenable(result) ? propagateValue(result, propagate, value) : propagate(value);\n      }\n      function propagateValue(result, propagate, x) {\n        return resolve(result).then(function () {\n          return propagate(x);\n        });\n      }\n\n      /**\n       * Recover from a failure by returning a defaultValue.  If defaultValue\n       * is a promise, it's fulfillment value will be used.  If defaultValue is\n       * a promise that rejects, the returned promise will reject with the\n       * same reason.\n       * @param {*} defaultValue\n       * @returns {Promise} new promise\n       */\n      Promise.prototype['else'] = Promise.prototype.orElse = function (defaultValue) {\n        return this.then(void 0, function () {\n          return defaultValue;\n        });\n      };\n\n      /**\n       * Shortcut for .then(function() { return value; })\n       * @param  {*} value\n       * @return {Promise} a promise that:\n       *  - is fulfilled if value is not a promise, or\n       *  - if value is a promise, will fulfill with its value, or reject\n       *    with its reason.\n       */\n      Promise.prototype['yield'] = function (value) {\n        return this.then(function () {\n          return value;\n        });\n      };\n\n      /**\n       * Runs a side effect when this promise fulfills, without changing the\n       * fulfillment value.\n       * @param {function} onFulfilledSideEffect\n       * @returns {Promise}\n       */\n      Promise.prototype.tap = function (onFulfilledSideEffect) {\n        return this.then(onFulfilledSideEffect)['yield'](this);\n      };\n      return Promise;\n    };\n    function rejectInvalidPredicate() {\n      throw new TypeError('catch predicate must be a function');\n    }\n    function evaluatePredicate(e, predicate) {\n      return isError(predicate) ? e instanceof predicate : predicate(e);\n    }\n    function isError(predicate) {\n      return predicate === Error || predicate != null && predicate.prototype instanceof Error;\n    }\n    function maybeThenable(x) {\n      return (typeof x === 'object' || typeof x === 'function') && x !== null;\n    }\n    function identity(x) {\n      return x;\n    }\n  });\n})(typeof define === 'function' && define.amd ? define : function (factory) {\n  module.exports = factory();\n});","map":{"version":3,"names":["define","flow","Promise","resolve","reject","origCatch","prototype","done","onResult","onError","_handler","visit","receiver","otherwise","onRejected","arguments","length","call","ensure","rejectInvalidPredicate","createCatchFilter","handler","predicate","e","evaluatePredicate","then","x","runSideEffect","identity","thisArg","propagate","value","result","maybeThenable","propagateValue","orElse","defaultValue","tap","onFulfilledSideEffect","TypeError","isError","Error","amd","factory","module","exports"],"sources":["/Users/lucas/Desktop/Coding/Digital_House/Bimestre_4/clonado_2/grupo-04/node_modules/when/lib/decorators/flow.js"],"sourcesContent":["/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n(function(define) { 'use strict';\ndefine(function() {\n\n\treturn function flow(Promise) {\n\n\t\tvar resolve = Promise.resolve;\n\t\tvar reject = Promise.reject;\n\t\tvar origCatch = Promise.prototype['catch'];\n\n\t\t/**\n\t\t * Handle the ultimate fulfillment value or rejection reason, and assume\n\t\t * responsibility for all errors.  If an error propagates out of result\n\t\t * or handleFatalError, it will be rethrown to the host, resulting in a\n\t\t * loud stack track on most platforms and a crash on some.\n\t\t * @param {function?} onResult\n\t\t * @param {function?} onError\n\t\t * @returns {undefined}\n\t\t */\n\t\tPromise.prototype.done = function(onResult, onError) {\n\t\t\tthis._handler.visit(this._handler.receiver, onResult, onError);\n\t\t};\n\n\t\t/**\n\t\t * Add Error-type and predicate matching to catch.  Examples:\n\t\t * promise.catch(TypeError, handleTypeError)\n\t\t *   .catch(predicate, handleMatchedErrors)\n\t\t *   .catch(handleRemainingErrors)\n\t\t * @param onRejected\n\t\t * @returns {*}\n\t\t */\n\t\tPromise.prototype['catch'] = Promise.prototype.otherwise = function(onRejected) {\n\t\t\tif (arguments.length < 2) {\n\t\t\t\treturn origCatch.call(this, onRejected);\n\t\t\t}\n\n\t\t\tif(typeof onRejected !== 'function') {\n\t\t\t\treturn this.ensure(rejectInvalidPredicate);\n\t\t\t}\n\n\t\t\treturn origCatch.call(this, createCatchFilter(arguments[1], onRejected));\n\t\t};\n\n\t\t/**\n\t\t * Wraps the provided catch handler, so that it will only be called\n\t\t * if the predicate evaluates truthy\n\t\t * @param {?function} handler\n\t\t * @param {function} predicate\n\t\t * @returns {function} conditional catch handler\n\t\t */\n\t\tfunction createCatchFilter(handler, predicate) {\n\t\t\treturn function(e) {\n\t\t\t\treturn evaluatePredicate(e, predicate)\n\t\t\t\t\t? handler.call(this, e)\n\t\t\t\t\t: reject(e);\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Ensures that onFulfilledOrRejected will be called regardless of whether\n\t\t * this promise is fulfilled or rejected.  onFulfilledOrRejected WILL NOT\n\t\t * receive the promises' value or reason.  Any returned value will be disregarded.\n\t\t * onFulfilledOrRejected may throw or return a rejected promise to signal\n\t\t * an additional error.\n\t\t * @param {function} handler handler to be called regardless of\n\t\t *  fulfillment or rejection\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype['finally'] = Promise.prototype.ensure = function(handler) {\n\t\t\tif(typeof handler !== 'function') {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\treturn this.then(function(x) {\n\t\t\t\treturn runSideEffect(handler, this, identity, x);\n\t\t\t}, function(e) {\n\t\t\t\treturn runSideEffect(handler, this, reject, e);\n\t\t\t});\n\t\t};\n\n\t\tfunction runSideEffect (handler, thisArg, propagate, value) {\n\t\t\tvar result = handler.call(thisArg);\n\t\t\treturn maybeThenable(result)\n\t\t\t\t? propagateValue(result, propagate, value)\n\t\t\t\t: propagate(value);\n\t\t}\n\n\t\tfunction propagateValue (result, propagate, x) {\n\t\t\treturn resolve(result).then(function () {\n\t\t\t\treturn propagate(x);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Recover from a failure by returning a defaultValue.  If defaultValue\n\t\t * is a promise, it's fulfillment value will be used.  If defaultValue is\n\t\t * a promise that rejects, the returned promise will reject with the\n\t\t * same reason.\n\t\t * @param {*} defaultValue\n\t\t * @returns {Promise} new promise\n\t\t */\n\t\tPromise.prototype['else'] = Promise.prototype.orElse = function(defaultValue) {\n\t\t\treturn this.then(void 0, function() {\n\t\t\t\treturn defaultValue;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Shortcut for .then(function() { return value; })\n\t\t * @param  {*} value\n\t\t * @return {Promise} a promise that:\n\t\t *  - is fulfilled if value is not a promise, or\n\t\t *  - if value is a promise, will fulfill with its value, or reject\n\t\t *    with its reason.\n\t\t */\n\t\tPromise.prototype['yield'] = function(value) {\n\t\t\treturn this.then(function() {\n\t\t\t\treturn value;\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Runs a side effect when this promise fulfills, without changing the\n\t\t * fulfillment value.\n\t\t * @param {function} onFulfilledSideEffect\n\t\t * @returns {Promise}\n\t\t */\n\t\tPromise.prototype.tap = function(onFulfilledSideEffect) {\n\t\t\treturn this.then(onFulfilledSideEffect)['yield'](this);\n\t\t};\n\n\t\treturn Promise;\n\t};\n\n\tfunction rejectInvalidPredicate() {\n\t\tthrow new TypeError('catch predicate must be a function');\n\t}\n\n\tfunction evaluatePredicate(e, predicate) {\n\t\treturn isError(predicate) ? e instanceof predicate : predicate(e);\n\t}\n\n\tfunction isError(predicate) {\n\t\treturn predicate === Error\n\t\t\t|| (predicate != null && predicate.prototype instanceof Error);\n\t}\n\n\tfunction maybeThenable(x) {\n\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t}\n\n\tfunction identity(x) {\n\t\treturn x;\n\t}\n\n});\n}(typeof define === 'function' && define.amd ? define : function(factory) { module.exports = factory(); }));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}